@use 'colors' as *;
@use 'variables' as *;
@use 'sass:map';

@import 'styles';
// montserrat, roboto
@import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');
// Firaode
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');

:root {
  // font-family: 'Poppins', Tahoma, Geneva, Verdana, sans-serif;

  // These are adapted from https://systemfontstack.com/
  --font-stack: 'Roboto', -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif,
    Apple Color Emoji, Segoe UI Emoji;
  --font-stack--monospace: 'SFMono-Regular', Menlo, Consolas, Monaco, Liberation Mono,
    Lucida Console, monospace;
  --font-stack--headings: var(--font-stack);

  --font-normal: 100%;
  --font-small: 87.5%;
  --font-small-2: 81.25%;
  --font-small-3: 75%;
  --font-small-4: 62.5%;

  font-family: var(--font-stack);
  font-weight: 400;
  letter-spacing: 0.01em;
  --ifm-font-family-monospace: 'Fira Code', monospace;
  --radius: 6px;

  &[data-theme='light'] {
    @each $key, $value in $colorsLight {
      --#{$key}: #{$value};
    }

    --ifm-color-primary: #{map.get($colorsLight, 'primary')};
    --ifm-color-primary-dark: #{darken(map.get($colorsLight, 'primary'), 10%)};
    --ifm-color-primary-darker: #{darken(map.get($colorsLight, 'primary'), 20%)};
    --ifm-color-primary-darkest: #{darken(map.get($colorsLight, 'primary'), 30%)};
    --ifm-color-primary-light: #{lighten(map.get($colorsLight, 'primary'), 10%)};
    --ifm-color-primary-lighter: #{lighten(map.get($colorsLight, 'primary'), 20%)};
    --ifm-color-primary-lightest: #{lighten(map.get($colorsLight, 'primary'), 30%)};

    --ifm-code-background: var(--base-content);
  }

  &[data-theme='dark'] {
    @each $key, $value in $colorsDark {
      --#{$key}: #{$value};
    }

    --ifm-color-primary: #{map.get($colorsDark, 'primary')};
    --ifm-color-primary-dark: #{darken(map.get($colorsDark, 'primary'), 10%)};
    --ifm-color-primary-darker: #{darken(map.get($colorsDark, 'primary'), 20%)};
    --ifm-color-primary-darkest: #{darken(map.get($colorsDark, 'primary'), 30%)};
    --ifm-color-primary-light: #{lighten(map.get($colorsDark, 'primary'), 10%)};
    --ifm-color-primary-lighter: #{lighten(map.get($colorsDark, 'primary'), 20%)};
    --ifm-color-primary-lightest: #{lighten(map.get($colorsDark, 'primary'), 30%)};
    --ifm-code-background: var(--base-content);

    // background-image: url('@site/static/img/background.png');

    --search-local-modal-background: var(--base);
    --search-local-hit-background: lighten($base, 10%);
    --search-local-highlight-color: #{$secondary};
    --search-local-muted-color: #{$secondary};
    --ifm-navbar-search-input-background-color: var(--base-lighter);
    --ifm-navbar-search-input-color: var(--text);
  }

  background-color: var(--base);
  // background-image: url('/static/img/background.svg');
  background-size: cover;
  background-blend-mode: overlay;
  background-position: top;
  background-repeat: no-repeat;
  color: var(--text);
  scroll-behavior: smooth;

  // blur noise overlay
  &::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background-image: url('/static/img/noise-texture.webp');
    background-repeat: repeat;
    opacity: 0.04;
    pointer-events: none;
  }

  --ifm-menu-color: var(--text);
  --ifm-navbar-link-color: var(--text);
}

// Utilities
.text-center {
  text-align: center;
}

@mixin createUtilities($map, $attribute) {
  @each $key, $val in $map {
    &-#{$key} {
      #{$attribute}: #{$val} !important;
    }
  }
}

.bg {
  @include createUtilities($colorsDark, 'background-color');
}

.text {
  @include createUtilities($colorsDark, 'color');
}

// highlight
.hl {
  color: var(--primary);
  font-weight: bold;
  padding: 0.1em 0em;
  border-radius: 0.2em;
}

// Move headings down to account for fixed navbar
h1,
h2,
h3,
h4,
h5 {
  scroll-margin-top: calc(var(--ifm-navbar-height) + 0.5em);
  font-family: 'Montserrat', sans-serif;
  letter-spacing: -0.01em;
}

// h1 {
//   margin-top: 1em;
//   margin-bottom: 0.5em;
// }
